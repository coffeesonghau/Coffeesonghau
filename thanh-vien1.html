&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;vi&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Th&agrave;nh Vi&ecirc;n | COFFEE S&ocirc;ng H·∫≠u&lt;/title&gt;
    &lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css&quot;&gt;
    &lt;script src=&quot;https://unpkg.com/html5-qrcode&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
    
    &lt;link href=&quot;./style.css&quot; rel=&quot;stylesheet&quot;&gt; 

    &lt;style&gt;
        #reader {
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #7a0b0b;
        }

        #reader video {
            object-fit: cover;
            border-radius: 8px;
        }

        /* Hi·ªáu ·ª©ng load cho k·∫øt qu·∫£ t&igrave;m ki·∫øm */
        .loading-dots:after {
            content: &#039; .&#039;;
            animation: dots 1s steps(5, end) infinite;
        }

        @keyframes dots {
            0%, 20% { color: rgba(0,0,0,0); text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            40% { color: #333; text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            60% { text-shadow: .25em 0 0 #333, .5em 0 0 rgba(0,0,0,0); }
            80%, 100% { text-shadow: .25em 0 0 #333, .5em 0 0 #333; }
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body class=&quot;bg-[#fcfcfc] text-gray-900&quot;&gt;

    &lt;header class=&quot;bg-white sticky top-0 z-50 shadow-sm&quot;&gt;
        &lt;div class=&quot;bg-red-950 text-white text-[10px] py-2 px-8 flex justify-between uppercase font-bold tracking-widest&quot;&gt;
            &lt;span&gt;Coffee S&ocirc;ng H·∫≠u&lt;/span&gt;&lt;span&gt;Hotline: 0852.494.694&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;container mx-auto px-4 py-4 flex justify-between items-center relative&quot;&gt;
            &lt;a href=&quot;index.html&quot; class=&quot;text-2xl font-black text-red-950&quot;&gt;COFFEE&lt;span class=&quot;text-yellow-600&quot;&gt; S&ocirc;ng H·∫≠u&lt;/span&gt;&lt;/a&gt;
            &lt;div class=&quot;hidden lg:flex space-x-8 text-[11px] font-bold uppercase tracking-wider text-gray-600 items-center h-full&quot;&gt;
                &lt;a href=&quot;index.html&quot; class=&quot;hover:text-red-900 py-4&quot;&gt;Trang Ch·ªß&lt;/a&gt;
                &lt;a href=&quot;sanpham.html&quot; class=&quot;hover:text-red-900 py-4&quot;&gt;S·∫£n ph·∫©m&lt;/a&gt;
                &lt;a href=&quot;thanh-vien.html&quot; class=&quot;text-red-900 py-4 border-b-2 border-red-900&quot;&gt;Th&agrave;nh Vi&ecirc;n&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class=&quot;flex items-center space-x-4&quot;&gt;
                &lt;button id=&quot;menu-btn&quot; class=&quot;lg:hidden text-red-950 p-2&quot;&gt;&lt;i class=&quot;fa-solid fa-bars text-2xl&quot;&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div id=&quot;mobile-menu&quot; class=&quot;hidden lg:hidden bg-white border-t border-gray-100 px-4 py-6&quot;&gt;
            &lt;div class=&quot;flex flex-col space-y-2 text-[11px] font-bold uppercase tracking-wider text-gray-600&quot;&gt;
                &lt;a href=&quot;index.html&quot; class=&quot;py-2 border-b border-gray-50 hover:text-red-900&quot;&gt;Trang Ch·ªß&lt;/a&gt;
                &lt;a href=&quot;thanh-vien.html&quot; class=&quot;py-2 border-b border-gray-50 text-red-900&quot;&gt;Th&agrave;nh Vi&ecirc;n&lt;/a&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/header&gt;

    &lt;main class=&quot;container mx-auto px-4 py-10 min-h-[60vh]&quot;&gt;
        &lt;div class=&quot;text-center mb-8&quot;&gt;
            &lt;h1 class=&quot;text-3xl md:text-4xl font-black text-red-950 uppercase mb-2&quot;&gt;H·ªá Th·ªëng Th&agrave;nh Vi&ecirc;n&lt;/h1&gt;
            &lt;p class=&quot;text-gray-500&quot;&gt;T&iacute;ch ƒëi·ªÉm - Checkin - Nh·∫≠n qu&agrave;&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class=&quot;grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto&quot;&gt;

            &lt;div class=&quot;bg-white p-6 rounded-xl shadow-lg border border-gray-100 h-fit&quot;&gt;
                &lt;div class=&quot;flex items-center gap-3 mb-4 border-b border-red-100 pb-3&quot;&gt;
                    &lt;div class=&quot;w-8 h-8 rounded-full bg-red-900 flex items-center justify-center text-white&quot;&gt;&lt;i class=&quot;fa-solid fa-user-check&quot;&gt;&lt;/i&gt;&lt;/div&gt;
                    &lt;h3 class=&quot;font-bold text-lg text-red-950 uppercase&quot;&gt;Check-in M·ªõi&lt;/h3&gt;
                &lt;/div&gt;
                &lt;form id=&quot;member-form&quot; class=&quot;space-y-4&quot;&gt;
                    &lt;div&gt;
                        &lt;input type=&quot;tel&quot; id=&quot;phone-input&quot; required pattern=&quot;[0-9]{10}&quot;
                            class=&quot;w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:border-red-900 font-bold text-lg text-red-900 placeholder-gray-400&quot;
                            placeholder=&quot;Nh·∫≠p SƒêT kh&aacute;ch (09xxxx)...&quot;&gt;
                    &lt;/div&gt;
                    &lt;div&gt;
                        &lt;input type=&quot;text&quot; id=&quot;name-input&quot;
                            class=&quot;w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:border-red-900 text-sm&quot;
                            placeholder=&quot;T&ecirc;n kh&aacute;ch (T&ugrave;y ch·ªçn)&quot;&gt;
                    &lt;/div&gt;
                    &lt;button type=&quot;submit&quot; id=&quot;submit-btn&quot;
                        class=&quot;w-full bg-red-900 text-white font-bold uppercase py-3 rounded-lg hover:bg-black transition shadow-lg flex justify-center items-center gap-2&quot;&gt;
                        &lt;span&gt;L∆∞u Check-in&lt;/span&gt; &lt;i class=&quot;fa-solid fa-paper-plane&quot;&gt;&lt;/i&gt;
                    &lt;/button&gt;
                &lt;/form&gt;
                &lt;div id=&quot;form-status&quot; class=&quot;mt-4 text-center text-sm font-bold hidden&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;

            &lt;div class=&quot;bg-white p-6 rounded-xl shadow-lg border border-gray-100 h-fit&quot;&gt;
                &lt;div class=&quot;flex items-center gap-3 mb-4 border-b border-yellow-100 pb-3&quot;&gt;
                    &lt;div class=&quot;w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-white&quot;&gt;&lt;i class=&quot;fa-solid fa-qrcode&quot;&gt;&lt;/i&gt;&lt;/div&gt;
                    &lt;h3 class=&quot;font-bold text-lg text-red-950 uppercase&quot;&gt;Qu&eacute;t QR Code&lt;/h3&gt;
                &lt;/div&gt;
                &lt;div class=&quot;relative bg-black rounded-lg overflow-hidden mb-4 min-h-[200px] flex flex-col justify-center&quot;&gt;
                    &lt;div id=&quot;reader&quot;&gt;&lt;/div&gt;
                    &lt;div id=&quot;camera-placeholder&quot; class=&quot;absolute inset-0 flex flex-col items-center justify-center text-gray-400 z-0&quot;&gt;
                        &lt;i class=&quot;fa-solid fa-camera text-4xl mb-2&quot;&gt;&lt;/i&gt; &lt;span class=&quot;text-xs uppercase&quot;&gt;Camera t·∫Øt&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;flex gap-2&quot;&gt;
                    &lt;button id=&quot;start-scan&quot; class=&quot;flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg text-sm uppercase transition&quot;&gt;B·∫≠t Cam&lt;/button&gt;
                    &lt;button id=&quot;stop-scan&quot; class=&quot;bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg text-sm uppercase transition&quot; disabled&gt;T·∫Øt&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class=&quot;md:col-span-2 bg-blue-50 p-6 rounded-xl shadow-inner border border-blue-100&quot;&gt;
                &lt;div class=&quot;flex items-center gap-3 mb-4 border-b border-blue-200 pb-3&quot;&gt;
                    &lt;div class=&quot;w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white&quot;&gt;&lt;i class=&quot;fa-solid fa-magnifying-glass&quot;&gt;&lt;/i&gt;&lt;/div&gt;
                    &lt;h3 class=&quot;font-bold text-lg text-blue-900 uppercase&quot;&gt;Tra C·ª©u &amp; ƒê·ªïi Qu&agrave;&lt;/h3&gt;
                &lt;/div&gt;

                &lt;div class=&quot;flex flex-col md:flex-row gap-4&quot;&gt;
                    &lt;input type=&quot;tel&quot; id=&quot;search-input&quot;
                        class=&quot;flex-1 bg-white border border-blue-200 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-600 font-bold text-lg text-blue-900&quot;
                        placeholder=&quot;Nh·∫≠p SƒêT ho·∫∑c M&atilde; ƒë·ªÉ ki·ªÉm tra...&quot;&gt;
                    &lt;button id=&quot;btn-search&quot;
                        class=&quot;bg-blue-600 text-white font-bold uppercase px-8 py-3 rounded-lg hover:bg-blue-700 transition shadow-lg whitespace-nowrap&quot;&gt;
                        Ki·ªÉm tra
                    &lt;/button&gt;
                &lt;/div&gt;

                &lt;div id=&quot;search-result&quot; class=&quot;mt-6 hidden&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;

        &lt;/div&gt;
    &lt;/main&gt;

    &lt;footer class=&quot;bg-red-950 text-white mt-10 pt-8 pb-8 text-center&quot;&gt;
        &lt;p class=&quot;text-[10px] text-gray-500 uppercase tracking-[0.2em]&quot;&gt; &copy; 2025 COFFEE S&ocirc;ng H·∫≠u.&lt;/p&gt;
    &lt;/footer&gt;

    &lt;script&gt;
        // ==========================================
        // ‚ö†Ô∏è ƒê&Atilde; C·∫¨P NH·∫¨T LINK CH&Iacute;NH X&Aacute;C C·ª¶A B·∫†N
        // ==========================================
        const GOOGLE_SCRIPT_URL = &#039;https://script.google.com/macros/s/AKfycbyjNyk_ivdtLRKzEmUAjbPngIUAv6W_FxCwt29jECJ28RR7YHoePz0sdIAwZJZ1pYYyfQ/exec&#039;; 
        
        const MILESTONE = 5; // S·ªë l·∫ßn t&iacute;ch ƒëi·ªÉm ƒë·ªÉ ƒë∆∞·ª£c nh·∫≠n qu&agrave; (S·ª≠a s·ªë n&agrave;y n·∫øu mu·ªën)

        // ==========================================
        // 1. LOGIC T&Igrave;M KI·∫æM (TRA C·ª®U)
        // ==========================================
        const searchBtn = document.getElementById(&#039;btn-search&#039;);
        const searchInput = document.getElementById(&#039;search-input&#039;);
        const resultDiv = document.getElementById(&#039;search-result&#039;);

        searchBtn.addEventListener(&#039;click&#039;, () =&gt; {
            const query = searchInput.value.trim();
            if (!query) { alert(&#039;Vui l&ograve;ng nh·∫≠p SƒêT ho·∫∑c M&atilde;!&#039;); return; }
            
            // UI Loading
            resultDiv.classList.remove(&#039;hidden&#039;);
            resultDiv.innerHTML = &#039;&lt;div class=&quot;text-center py-4 text-blue-800 font-bold loading-dots&quot;&gt;ƒêang k·∫øt n·ªëi Server...&lt;/div&gt;&#039;;

            // G·ªçi API (GET Request)
            fetch(`${GOOGLE_SCRIPT_URL}?action=search&amp;query=${query}`)
                .then(response =&gt; {
                    if (!response.ok) throw new Error(&#039;Network response was not ok&#039;);
                    return response.json();
                })
                .then(data =&gt; {
                    if (data.status === &#039;success&#039;) {
                        const count = data.count;
                        const name = data.name || &#039;Kh&aacute;ch h&agrave;ng&#039;;
                        const lastTime = data.lastTime || &#039;Ch∆∞a c&oacute;&#039;;

                        // Logic hi·ªÉn th·ªã n&uacute;t ƒë·ªïi qu&agrave;
                        let promoHTML = &#039;&#039;;
                        
                        if (count &gt;= MILESTONE) {
                            // ƒê·ª¶ ƒêI·ªÄU KI·ªÜN -&gt; HI·ªÜN N&Uacute;T ƒê·ªîI
                            promoHTML = `
                                &lt;div class=&quot;mt-4 p-4 rounded-lg bg-green-50 border border-green-200 text-center animate-pulse&quot;&gt;
                                    &lt;p class=&quot;text-green-800 font-bold text-lg mb-2&quot;&gt;üéâ ƒê·ª¶ ƒêI·ªÄU KI·ªÜN ƒê·ªîI QU&Agrave;&lt;/p&gt;
                                    &lt;button onclick=&quot;redeemGift(&#039;${query}&#039;)&quot; id=&quot;btn-redeem&quot; class=&quot;bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition transform hover:scale-105&quot;&gt;
                                        &lt;i class=&quot;fa-solid fa-gift mr-2&quot;&gt;&lt;/i&gt; X&aacute;c nh·∫≠n ƒê&atilde; Trao Qu&agrave;
                                    &lt;/button&gt;
                                &lt;/div&gt;
                            `;
                        } else {
                            // CH∆ØA ƒê·ª¶ ƒêI·ªÄU KI·ªÜN
                            const remain = MILESTONE - count;
                            promoHTML = `
                                &lt;div class=&quot;mt-3 p-3 rounded-lg bg-gray-100 border border-gray-200 text-center&quot;&gt;
                                    &lt;p class=&quot;text-gray-600 font-bold text-sm&quot;&gt;C·∫ßn t&iacute;ch th&ecirc;m &lt;span class=&quot;text-red-600 text-lg&quot;&gt;${remain}&lt;/span&gt; l·∫ßn n·ªØa ƒë·ªÉ nh·∫≠n qu&agrave;!&lt;/p&gt;
                                    &lt;div class=&quot;w-full bg-gray-300 rounded-full h-2.5 mt-2 overflow-hidden&quot;&gt;
                                      &lt;div class=&quot;bg-blue-600 h-2.5 rounded-full&quot; style=&quot;width: ${(count/MILESTONE)*100}%&quot;&gt;&lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            `;
                        }

                        resultDiv.innerHTML = `
                            &lt;div class=&quot;bg-white border-l-4 border-blue-500 shadow-sm rounded-r-lg p-4&quot;&gt;
                                &lt;div class=&quot;flex justify-between items-start&quot;&gt;
                                    &lt;div&gt;
                                        &lt;h4 class=&quot;font-bold text-xl text-gray-800&quot;&gt;${name}&lt;/h4&gt;
                                        &lt;p class=&quot;text-sm text-gray-500&quot;&gt;SƒêT/M&atilde;: ${query}&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class=&quot;text-right&quot;&gt;
                                        &lt;span class=&quot;block text-4xl font-black text-blue-600&quot;&gt;${count}&lt;span class=&quot;text-lg text-gray-400&quot;&gt;/${MILESTONE}&lt;/span&gt;&lt;/span&gt;
                                        &lt;span class=&quot;text-xs uppercase font-bold text-gray-400&quot;&gt;ƒêi·ªÉm hi·ªán t·∫°i&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class=&quot;mt-2 text-xs text-gray-500 border-t border-gray-100 pt-2&quot;&gt;
                                    &lt;i class=&quot;fa-regular fa-clock&quot;&gt;&lt;/i&gt; Check-in g·∫ßn nh·∫•t: ${lastTime}
                                &lt;/div&gt;
                                ${promoHTML}
                            &lt;/div&gt;
                        `;
                    } else {
                        resultDiv.innerHTML = `&lt;div class=&quot;text-center text-red-500 font-bold py-4&quot;&gt;‚ö†Ô∏è Kh&ocirc;ng t&igrave;m th·∫•y SƒêT n&agrave;y.&lt;br&gt;Vui l&ograve;ng Check-in m·ªõi tr∆∞·ªõc!&lt;/div&gt;`;
                    }
                })
                .catch(err =&gt; {
                    console.error(err);
                    resultDiv.innerHTML = `&lt;div class=&quot;text-center text-red-600 py-4 bg-red-50 rounded-lg border border-red-200&quot;&gt;
                        &lt;strong&gt;L·ªói k·∫øt n·ªëi!&lt;/strong&gt;&lt;br&gt;
                        &lt;span class=&quot;text-xs&quot;&gt;H&atilde;y ki·ªÉm tra xem b·∫°n ƒë&atilde; m·ªü quy·ªÅn &#039;Anyone&#039; (B·∫•t k·ª≥ ai) trong Google Script ch∆∞a.&lt;/span&gt;
                    &lt;/div&gt;`;
                });
        });

        // ==========================================
        // 2. H&Agrave;M X&Aacute;C NH·∫¨N ƒê·ªîI QU&Agrave; (M·ªöI)
        // ==========================================
        window.redeemGift = function(phone) {
            if(!confirm(`X&aacute;c nh·∫≠n kh&aacute;ch h&agrave;ng ${phone} ƒê&Atilde; NH·∫¨N QU&Agrave;?\n(ƒêi·ªÉm t&iacute;ch l≈©y s·∫Ω ƒë∆∞·ª£c reset v·ªÅ 0)`)) return;

            const btn = document.getElementById(&#039;btn-redeem&#039;);
            btn.innerHTML = &#039;&lt;i class=&quot;fa-solid fa-spinner fa-spin&quot;&gt;&lt;/i&gt; ƒêang x·ª≠ l&yacute;...&#039;;
            btn.disabled = true;

            fetch(GOOGLE_SCRIPT_URL, {
                method: &#039;POST&#039;,
                mode: &#039;no-cors&#039;, 
                headers: { &#039;Content-Type&#039;: &#039;application/json&#039; },
                body: JSON.stringify({ phone: phone, type: &#039;REDEEM&#039; })
            }).then(() =&gt; {
                alert(&#039;‚úÖ ƒê&atilde; c·∫≠p nh·∫≠t tr·∫°ng th&aacute;i: ƒê&Atilde; NH·∫¨N QU&Agrave;!&#039;);
                // T·ª± ƒë·ªông t&igrave;m ki·∫øm l·∫°i ƒë·ªÉ c·∫≠p nh·∫≠t giao di·ªán (v·ªÅ 0 ƒëi·ªÉm)
                searchInput.value = phone;
                searchBtn.click(); 
            }).catch(err =&gt; {
                alert(&#039;‚ùå L·ªói k·∫øt n·ªëi!&#039;);
                btn.disabled = false;
                btn.innerHTML = &#039;Th·ª≠ l·∫°i&#039;;
            });
        }

        // ==========================================
        // 3. LOGIC G·ª¨I CHECK-IN (POST)
        // ==========================================
        const form = document.getElementById(&#039;member-form&#039;);
        const statusDiv = document.getElementById(&#039;form-status&#039;);
        const submitBtn = document.getElementById(&#039;submit-btn&#039;);

        form.addEventListener(&#039;submit&#039;, (e) =&gt; {
            e.preventDefault();
            
            const phone = document.getElementById(&#039;phone-input&#039;).value;
            const name = document.getElementById(&#039;name-input&#039;).value || &#039;Kh&aacute;ch v&atilde;ng lai&#039;;

            submitBtn.innerHTML = &#039;&lt;i class=&quot;fa-solid fa-circle-notch fa-spin&quot;&gt;&lt;/i&gt; ƒêang g·ª≠i...&#039;;
            submitBtn.disabled = true;

            fetch(GOOGLE_SCRIPT_URL, {
                method: &#039;POST&#039;,
                mode: &#039;no-cors&#039;,
                headers: { &#039;Content-Type&#039;: &#039;application/json&#039; },
                body: JSON.stringify({ phone: phone, name: name, type: &#039;PHONE_CHECKIN&#039; })
            }).then(() =&gt; {
                statusDiv.innerHTML = &#039;&lt;span class=&quot;text-green-600&quot;&gt;&lt;i class=&quot;fa-solid fa-check-circle&quot;&gt;&lt;/i&gt; Check-in th&agrave;nh c&ocirc;ng!&lt;/span&gt;&#039;;
                statusDiv.classList.remove(&#039;hidden&#039;);
                form.reset();
                // T·ª± ƒë·ªông t&igrave;m ki·∫øm l·∫°i s·ªë v·ª´a checkin ƒë·ªÉ xem ƒëi·ªÉm lu&ocirc;n
                searchInput.value = phone;
                searchBtn.click();
            }).catch(err =&gt; {
                 statusDiv.innerHTML = &#039;&lt;span class=&quot;text-red-600&quot;&gt;L·ªói k·∫øt n·ªëi Server!&lt;/span&gt;&#039;;
                 statusDiv.classList.remove(&#039;hidden&#039;);
            }).finally(() =&gt; {
                submitBtn.innerHTML = &#039;&lt;span&gt;L∆∞u Check-in&lt;/span&gt; &lt;i class=&quot;fa-solid fa-paper-plane&quot;&gt;&lt;/i&gt;&#039;;
                submitBtn.disabled = false;
                setTimeout(() =&gt; statusDiv.classList.add(&#039;hidden&#039;), 5000);
            });
        });

        // ==========================================
        // 4. LOGIC QU&Eacute;T QR CODE
        // ==========================================
        let html5QrcodeScanner = null;
        const startScanBtn = document.getElementById(&#039;start-scan&#039;);
        const stopScanBtn = document.getElementById(&#039;stop-scan&#039;);
        const placeholder = document.getElementById(&#039;camera-placeholder&#039;);

        startScanBtn.addEventListener(&#039;click&#039;, () =&gt; {
            placeholder.style.display = &#039;none&#039;;
            startScanBtn.disabled = true;
            stopScanBtn.disabled = false;
            html5QrcodeScanner = new Html5Qrcode(&quot;reader&quot;);
            html5QrcodeScanner.start({ facingMode: &quot;environment&quot; }, { fps: 10, qrbox: { width: 250, height: 250 } },
                (decodedText) =&gt; {
                    searchInput.value = decodedText;
                    searchBtn.click();
                    stopScanning();
                }).catch(() =&gt; { stopScanning(); alert(&quot;L·ªói Camera ho·∫∑c ch∆∞a c·∫•p quy·ªÅn!&quot;); });
        });

        stopScanBtn.addEventListener(&#039;click&#039;, stopScanning);

        function stopScanning() {
            if (html5QrcodeScanner) {
                html5QrcodeScanner.stop().then(() =&gt; {
                    html5QrcodeScanner.clear();
                    placeholder.style.display = &#039;flex&#039;;
                    startScanBtn.disabled = false;
                    stopScanBtn.disabled = true;
                });
            }
        }

        // Mobile Menu
        document.getElementById(&#039;menu-btn&#039;).addEventListener(&#039;click&#039;, () =&gt; {
            document.getElementById(&#039;mobile-menu&#039;).classList.toggle(&#039;hidden&#039;);
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;